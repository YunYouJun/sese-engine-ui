var X=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var O=(e,t,n)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))te.call(t,n)&&O(e,n,t[n]);if(U)for(var n of U(t))se.call(t,n)&&O(e,n,t[n]);return e},A=(e,t)=>Z(e,ee(t));import{_ as ne,o as f,c as _,h as a,i as B,d as oe,b as re,j as ue,k as ae,l as ie,r as v,m as ce,u as le,n as I,p as fe,w as pe,g as H,q as de,e as g,s as he,v as w,T as _e,x as ye,t as R,F as T,y as V,z as Ee,A as L,B as ge}from"./app.c68c75ab.js";const me={},Fe={class:"absolute loading-container flex justify-center items-center fixed inset-0",h:"screen",m:"auto"},ve=a("div",{class:"spinner"},null,-1),we=[ve];function Re(e,t){return f(),_("div",Fe,we)}var Ce=ne(me,[["render",Re]]),be="/rimo-touch-fish.png";const xe=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Ae=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Te=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function ke(e,t){if(!(e==="__proto__"||e==="constructor"))return t}function Be(e){if(typeof e!="string")return e;const t=e.toLowerCase();if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(t==="nan")return NaN;if(t==="infinity")return 1/0;if(t!=="undefined"){if(!Te.test(e))return e;try{return xe.test(e)||Ae.test(e)?JSON.parse(e,ke):JSON.parse(e)}catch{return e}}}const $e=/#/g,je=/&/g,Le=/=/g,M=/\+/g,Se=/%5B/gi,Pe=/%5D/gi,Ne=/%5E/gi,De=/%60/gi,qe=/%7B/gi,Ue=/%7C/gi,Oe=/%7D/gi,Ie=/%20/gi;function He(e){return encodeURI(""+e).replace(Ue,"|").replace(Se,"[").replace(Pe,"]")}function $(e){return He(e).replace(M,"%2B").replace(Ie,"+").replace($e,"%23").replace(je,"%26").replace(De,"`").replace(qe,"{").replace(Oe,"}").replace(Ne,"^")}function k(e){return $(e).replace(Le,"%3D")}function J(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function Ve(e){return J(e.replace(M," "))}function Ke(e=""){const t={};e[0]==="?"&&(e=e.substr(1));for(const n of e.split("&")){const o=n.match(/([^=]+)=?(.*)/)||[];if(o.length<2)continue;const r=J(o[1]);if(r==="__proto__"||r==="constructor")continue;const i=Ve(o[2]||"");t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}return t}function Qe(e,t){return t?Array.isArray(t)?t.map(n=>`${k(e)}=${$(n)}`).join("&"):`${k(e)}=${$(t)}`:k(e)}function Me(e){return Object.keys(e).map(t=>Qe(t,e[t])).join("&")}function Je(e,t=!1){return/^\w+:\/\/.+/.test(e)||t&&/^\/\/[^/]+/.test(e)}const We=/\/$|\/\?/;function j(e="",t=!1){return t?We.test(e):e.endsWith("/")}function ze(e="",t=!1){if(!t)return(j(e)?e.slice(0,-1):e)||"/";if(!j(e,!0))return e||"/";const[n,...o]=e.split("?");return(n.slice(0,-1)||"/")+(o.length?`?${o.join("?")}`:"")}function Ge(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(j(e,!0))return e||"/";const[n,...o]=e.split("?");return n+"/"+(o.length?`?${o.join("?")}`:"")}function Ye(e=""){return e.startsWith("/")}function Xe(e=""){return(Ye(e)?e.substr(1):e)||"/"}function Ze(e,t){if(tt(t))return e;const n=ze(t);return e.startsWith(n)?e:nt(n,e)}function et(e,t){const n=W(e),o=E(E({},Ke(n.search)),t);return n.search=Me(o),ot(n)}function tt(e){return!e||e==="/"}function st(e){return e&&e!=="/"}function nt(e,...t){let n=e||"";for(const o of t.filter(st))n=n?Ge(n)+Xe(o):o;return n}function W(e="",t){if(!Je(e,!0))return t?W(t+e):K(e);const[n="",o,r]=(e.match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[i="",u=""]=(r.match(/([^/?]*)(.*)?/)||[]).splice(1),{pathname:p,search:l,hash:s}=K(u);return{protocol:n,auth:o?o.substr(0,o.length-1):"",host:i,pathname:p,search:l,hash:s}}function K(e=""){const[t="",n="",o=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:o}}function ot(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class rt extends Error{constructor(){super(...arguments),this.name="FetchError"}}function ut(e,t,n){let o="";e&&n&&(o=`${n.status} ${n.statusText} (${e.toString()})`),t&&(o=`${t.message} (${o})`);const r=new rt(o);return Object.defineProperty(r,"request",{get(){return e}}),Object.defineProperty(r,"response",{get(){return n}}),Object.defineProperty(r,"data",{get(){return n&&n._data}}),r}const at=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Q(e="GET"){return at.has(e.toUpperCase())}function it(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const ct=new Set(["image/svg","application/xml","application/xhtml","application/html"]),lt=new Set(["application/json","application/ld+json"]);function ft(e=""){if(!e)return"json";const t=e.split(";").shift();return lt.has(t)?"json":ct.has(t)||t.startsWith("text/")?"text":"blob"}const pt=new Set([408,409,425,429,500,502,503,504]);function z(e){const{fetch:t,Headers:n}=e;function o(u){if(u.options.retry!==!1){const l=typeof u.options.retry=="number"?u.options.retry:Q(u.options.method)?0:1,s=u.response&&u.response.status||500;if(l>0&&pt.has(s))return r(u.request,A(E({},u.options),{retry:l-1}))}const p=ut(u.request,u.error,u.response);throw Error.captureStackTrace&&Error.captureStackTrace(p,r),p}const r=async function(p,l={}){const s={request:p,options:E(E({},e.defaults),l),response:void 0,error:void 0};s.options.onRequest&&await s.options.onRequest(s),typeof s.request=="string"&&(s.options.baseURL&&(s.request=Ze(s.request,s.options.baseURL)),s.options.params&&(s.request=et(s.request,s.options.params)),s.options.body&&Q(s.options.method)&&it(s.options.body)&&(s.options.body=JSON.stringify(s.options.body),s.options.headers=new n(s.options.headers),s.options.headers.has("content-type")||s.options.headers.set("content-type","application/json"),s.options.headers.has("accept")||s.options.headers.set("accept","application/json"))),s.response=await t(s.request,s.options).catch(async d=>(s.error=d,s.options.onRequestError&&await s.options.onRequestError(s),o(s)));const m=(s.options.parseResponse?"json":s.options.responseType)||ft(s.response.headers.get("content-type")||"");if(m==="json"){const d=await s.response.text(),F=s.options.parseResponse||Be;s.response._data=F(d)}else s.response._data=await s.response[m]();return s.options.onResponse&&await s.options.onResponse(s),s.response.ok||s.options.onResponseError&&await s.options.onResponseError(s),s.response.ok?s.response:o(s)},i=function(p,l){return r(p,l).then(s=>s._data)};return i.raw=r,i.create=(u={})=>z(A(E({},e),{defaults:E(E({},e.defaults),u)})),i}const G=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),dt=G.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),ht=G.Headers,_t=z({fetch:dt,Headers:ht}),yt=_t.create({baseURL:"https://api2sese.yunyoujun.cn/",retry:0,async onResponse({response:e}){const{useToast:t}=await B(()=>import("./app.c68c75ab.js").then(function(o){return o.H}),["assets/app.c68c75ab.js","assets/app.c28f1827.css"]),n=t();typeof e._data=="string"&&n.error("\u574F\u4E86\uFF01\u670D\u52A1\u5668\u574F\u4E86\uFF01\u5FEB\u53BB\u6253\u8389\u6CAB\u9171\uFF01")},async onResponseError({response:e}){const{useToast:t}=await B(()=>import("./app.c68c75ab.js").then(function(o){return o.H}),["assets/app.c68c75ab.js","assets/app.c28f1827.css"]),n=t();n.error(`${e.status} ${e.statusText}`),e._data&&n.error(e._data.\u4FE1\u606F)}});async function Et(e){const{useToast:t}=await B(()=>import("./app.c68c75ab.js").then(function(i){return i.H}),["assets/app.c68c75ab.js","assets/app.c28f1827.css"]),n=t(),o={q:e.q||"",slice:e.slice||"0:10"};return await yt("/search",{params:o}).catch(i=>{console.error(i),n.error("\u574F\u4E86\uFF01\u670D\u52A1\u5668\u574F\u4E86\uFF01\u5FEB\u53BB\u6253\u8389\u6CAB\u9171\uFF01")})}const gt={p:"2",h:"screen"},mt={p:"l-2 lt-sm:l-0",class:"relative flex justify-start items-center lt-sm:mt-6"},Ft=["src"],vt=a("div",{"i-ri-heart-line":""},null,-1),wt=[vt],Rt={key:0,m:"l-24 lt-sm:l-0",p:"2",class:"max-w-2xl"},Ct={text:"left sm gray-500",m:"b-2"},bt=["href"],xt={class:"not-italic",text:"xs"},At=["href"],Tt={class:"top-0 truncate"},kt=["innerHTML"],Bt={key:1},$t=a("div",{class:"inline-flex justify-start items-center border",p:"1",m:"1"},[a("div",{"i-ri-alert-line":""}),a("span",{m:"l-1"},"\u6211\u4EEC\u7684\u63A2\u6D4B\u5668\u5BF9\u8FD9\u4E2A\u5947\u602A\u7684\u7F51\u7AD9\u6CA1\u6709\u6548\u679C\uFF01")],-1),jt=[$t],Lt={key:1,text:"left",m:"t-8"},St=L(" \u627E\u4E0D\u5230\u548C\u60A8\u67E5\u8BE2\u7684\u300C"),Pt={text:"red-500"},Nt=L("\u300D\u76F8\u7B26\u7684\u5185\u5BB9\u6216\u4FE1\u606F\uFF01 "),Dt=a("p",{m:"t-8",text:"left"},[L(" \u5EFA\u8BAE\uFF1A "),a("ul",{p:"4"},[a("li",{class:"list-circle"}," \u4F7F\u7528 Google \u641C\u7D22 ")]),a("img",{src:be,alt:"\u6478\u9C7C"})],-1),qt={key:2,m:"t-6 b-4",class:"pagination-container flex justify-center items-center"},Ut=a("div",{"i-ri-arrow-left-line":""},null,-1),Ot=[Ut],It=["onClick"],Ht=a("div",{"i-ri-arrow-right-line":""},null,-1),Vt=[Ht],Kt={key:1,m:"t-10"},Jt=oe({setup(e){var P,N,D;const{t}=re(),{enter:n}=ue(),o=ae(),r=ie();r.setNewKeyword(((P=o.query.q)==null?void 0:P.toString())||"");const i=v(r.savedKeyword),u=v((N=o.query.slice)==null?void 0:N.toString()),p=v(10),l=v(),s=ce();le({title:I(()=>`${r.savedKeyword} - ${t("sese.title")}`)});const m=async()=>{r.isLoading=!0;const y=await Et({q:i.value,slice:u.value});r.isLoading=!1,l.value=y};fe(async()=>{m()});const d=v(u.value?parseInt((D=u.value)==null?void 0:D.split(":")[0])/p.value+1:1),F=y=>{d.value=y,u.value=`${(d.value-1)*p.value}:${d.value*p.value}`,s.push({path:"/search",query:{q:i.value,slice:u.value}}),m()};pe(()=>r.savedKeyword,()=>{m()});const b=I(()=>{if(l.value&&l.value.\u603B\u6570){const y=Math.ceil(l.value.\u603B\u6570/p.value);return y<=10?y:10}else return 0}),S=()=>{d.value=1,u.value=`0:${p.value}`,n(i.value)},Y=y=>{let h=y.replace(/</g,"&lt;").replace(/>/g,"&gt;");return(l.value&&l.value.\u5206\u8BCD||[i.value]).forEach(x=>{const c=new RegExp(x,"gi");h=h.replace(c,C=>`<em class="highlight">${C}</em>`)}),h};return(y,h)=>{const q=Ce,x=ge;return f(),_("div",gt,[H(_e,null,{default:de(()=>[g(r).isLoading?(f(),he(q,{key:0})):w("",!0)]),_:1}),a("div",mt,[a("a",{class:"cursor-pointer inline-flex justify-center lt-sm:absolute -top-5 left-5",m:"r-3 b-1",onClick:h[0]||(h[0]=()=>{g(s).push("/")})},[a("img",{class:"w-16 filter drop-shadow",src:g(ye),alt:"Rimo And XiaoYun"},null,8,Ft)]),H(x,{modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=c=>i.value=c),class:"inline-flex",enter:()=>{S()}},null,8,["modelValue","enter"]),a("button",{m:"l-2",p:"2",class:"icon-btn flex justify-center items-center border rounded rounded-full !outline-none",onClick:h[2]||(h[2]=c=>S())},wt)]),l.value?(f(),_("div",Rt,[a("div",Ct," \u627E\u5230\u7EA6 "+R(l.value.\u603B\u6570)+" \u4E2A\u7ED3\u679C ",1),l.value.\u603B\u6570?(f(!0),_(T,{key:0},V(l.value.\u7ED3\u679C,(c,C)=>(f(),_("div",{key:C,text:"left",m:"b-4"},[a("a",{href:c.\u7F51\u5740,target:"_blank",class:"block truncate"},[a("cite",xt,R(c.\u7F51\u5740),1)],8,bt),c.\u4FE1\u606F?(f(),_(T,{key:0},[a("a",{href:c.\u7F51\u5740,target:"_blank",class:"text-lg text-blue-900 hover:underline dark:text-blue-500"},[a("h3",Tt,R(c.\u4FE1\u606F.\u6807\u9898),1)],8,At),a("p",{text:"sm",innerHTML:Y(c.\u4FE1\u606F.\u63CF\u8FF0||c.\u4FE1\u606F.\u6587\u672C)},null,8,kt)],64)):(f(),_("div",Bt,jt))]))),128)):(f(),_("div",Lt,[St,a("strong",Pt,R(i.value),1),Nt,Dt])),g(b)?(f(),_("div",qt,[d.value>1?(f(),_("span",{key:0,class:"page-link",text:"sm",p:"r-1",m:"r-1",onClick:h[3]||(h[3]=c=>F(d.value-1))},Ot)):w("",!0),(f(!0),_(T,null,V(g(b),c=>(f(),_("span",{key:c,p:"1",m:"1",class:Ee(["pagination-page",d.value===c?"text-black dark:text-white":"text-blue-600 dark:text-blue-500 cursor-pointer hover:underline"]),text:"sm",onClick:C=>d.value===c?null:F(c)},R(c),11,It))),128)),d.value<g(b)?(f(),_("span",{key:1,class:"page-link",text:"sm",p:"l-1",m:"l-1",onClick:h[4]||(h[4]=c=>F(d.value+1))},Vt)):w("",!0)])):w("",!0)])):g(r).isLoading?w("",!0):(f(),_("div",Kt," \u670D\u52A1\u5668\u4E0D\u2026\u2026\u4E0D\u884C\u4E86\u2026\u2026 "))])}}});export{Jt as default};
